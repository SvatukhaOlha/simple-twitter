<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css" integrity="sha384-vSIIfh2YWi9wW0r9iZe7RJPrKwp6bG+s9QZMoITbCckVJqGCCRhc+ccxNcdpHuYu" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment-with-locales.min.js"></script>
    <link rel="stylesheet" href="modal.css">
   <title>Twitter</title>
</head>
<body>
    <script>
        var profile = {
            userName: '@aaronjack',
            displayName: 'Aaron Jack',
            twittsCount: 3452,
            coverPhoto: 'https://png.pngtree.com/thumb_back/fh260/background/20190828/pngtree-dark-vector-abstract-background-image_302715.jpg',
            avatarPhoto: 'https://www.cbs42.com/wp-content/uploads/sites/81/2020/11/twitter.png',
            description: 'Assistance Dog Owner ðŸ‡ªðŸ‡º#remainer #LibDem ðŸ‡ªðŸ‡º Photographer, Videographer, LFC, Disabled, Fibro, CFS, MS Warrior. Passionate about NHS',
            location: 'England, UK',
            site: 'prozorro.gov.ua',
            registrationDate: 'Octovber 2016',
            followerCount: 1200,
            followingCount: 500,
            tweets: [
                {text: 'my third tweet', date: new Date(Date.now() - 100000)},
                {text: 'my second tweet', date: new Date(Date.now() - 1000000)},
                {text: 'my first tweet', date: new Date(Date.now() - 10000000)},
            ]
        }
        document.body.innerHTML = `
        <div class="header">
            <div class="back">
                <i class="fas fa-chevron-left"></i>
                <div class= "back-right">
                    <div class="display-name title">${profile.displayName}</div>
                    <div class="twitts-count second-color">${profile.twittsCount} twitts</div>
                </div>
            </div> 
            <div class="container-img">
                <div class="background-container">
                    <img src="${profile.coverPhoto}" alt="prozorro" class="backround-img">
                </div>
                <div class="logo-container">
                    <img src="${profile.avatarPhoto}" alt="logo" class="logo">
                    <a class="modal-show" href="#modal">Tweet</a>
                <div class="modal" id="modal">
                <div class="modal-content">
                    <div class="modal-tweet">
                <div id="tw-logo-container">    
                    <img src="img/logo.jpg" alt="logo" class="tw-logo">
                    <div id="tw-text-container">
                     <input type="text" placeholder="Sent a tweet" class="tweet-text">
                    </div>
                </div>
                <div class="icons">
                    <div class="icons-container">
                        <i class="far fa-image"></i>
                        <i class="far fa-smile"></i>
                        <i class="fas fa-link"></i>
                    </div>
                    <div class="modal-icons modal-show">
                        <a class="sent-tweet-btn" href="#modal">Tweet</a>
                    </div>
                </div> 
            </div>
                    <a class="modal-hide" href="#">âœ•</a>
                </div>
                </div>
            </div>
            </div>
            <div class="user-information">
                <div class="display-name title">${profile.displayName}</div>
                <div class="user-name">${profile.userName}</div>
                <div class="description main-text">${profile.description}</div>
                <div class="registration">
                    <div class="country second-color">${profile.location}</div>
                    <div class="site">
                        <a href="" class="link-site navigation-color">${profile.site}</a>
                    </div>
                    <div class="registration-date second-color">${profile.registrationDate}</div>
                </div>
            </div>
            <div class="tweet-container">
                
            </div>
            </div>
        `

        // Adds a new tweet
            const sentTweet = document.querySelector('.sent-tweet-btn');
            sentTweet.addEventListener('click', function() {
                const findText = document.querySelector('.tweet-text').value;
                const tweetContainer = document.querySelector('.tweet-container');
                const tweetEl = document.createElement('div');
                tweetEl.innerHTML = 
                `<div class="modal-tweet">
                    <div id="tw-logo-container">    
                        <img src="${profile.avatarPhoto}" alt="logo" class="tw-logo">
                    </div>
                    <div id="tw-text-container">
                        <div class="display-name title">${profile.displayName}</div>
                        <div class="second-color date-publish">${moment(new Date()).fromNow()}</div>
                            <div class="description">${findText}</div>
                    </div>
                </div>`
                tweetContainer.prepend(tweetEl);
            })

        // adds all existing tweets
        for(let i = 0; i < profile.tweets.length; i++) {
            const tweetContainer = document.querySelector('.tweet-container');
            const tweetEl = document.createElement('div');
            tweetEl.innerHTML = 
            `<div id="modal-tweet">
                <div id="tw-logo-container">    
                    <img src="${profile.avatarPhoto}" alt="logo" class="tw-logo">
                </div>
                <div id="tw-text-container">
                    <div class="display-name title">${profile.displayName}</div>
                    <div class="second-color date-publish">${moment(profile.tweets[i].date).fromNow()}</div>
                        <div class="description">${profile.tweets[i].text}</div>
                </div>
            </div>`
            tweetContainer.appendChild(tweetEl);
           
            }
            const clickOnTweet = document.querySelector('.sent-tweet-btn');
            const sendTweet = clickOnTweet.addEventListener('click', function() {
                const modalInput = document.querySelector('.modal');
                modalInput.style.display = 'none';
            });

            const modalShow = document.querySelector('.modal-show');
            modalShow.addEventListener('click', function() {
                const tweetText = document.querySelector('.tweet-text').value = '';
                const modalInput = document.querySelector('.modal'); 
                modalInput.style.display = 'flex';

                const closeModalHide = document.querySelector('.modal-hide');
                const clickOnModalHide = closeModalHide.addEventListener('click', function() {
                    modalInput.style.display = 'none';
                })
            });



            
    </script>
</body>
</html>


